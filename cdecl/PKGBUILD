# Maintainer: John Butera <john@jbutera.net>

_realname=cdecl-blocks
pkgname=cdecl
pkgver=2.5
pkgrel=1
pkgdesc="A program for encoding and decoding C (or C++) type declarations"
arch=('i686' 'x86_64')
url="http://cdecl.org/"
options=('strip' 'staticlibs' '!makeflags')
license=('public-domain')
depends=("libedit")
makedepends=("gcc" 'make' 'libedit-devel' 'flex' 'bison')
source=("http://cdecl.org/files/cdecl-blocks-2.5.tar.gz"
        "build.patch")
sha256sums=('775d3c950775eeb3933aeaa72baabfbaf88f8b821e3bb657003dd0c5a9194493'
            '98ced4e22584a389c99ba32425c8fb2b43a81741a7e8a8e00e652e5cfcb100bc')

prepare() {
  cd "${srcdir}/${_realname}-${pkgver}"
  patch -p1 -i "${srcdir}/build.patch"
}

build() {
  cd ${srcdir}/${_realname}-${pkgver}
  make
}

package() {
  cd ${srcdir}/${_realname}-${pkgver}
  make PREFIX="${pkgdir}" install
}
